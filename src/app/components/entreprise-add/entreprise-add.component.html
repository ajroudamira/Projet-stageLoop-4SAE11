<body class="sb-nav-fixed">
  <app-navbar></app-navbar>
  <div id="layoutSidenav">
    <app-layout-static></app-layout-static>
    <div id="layoutSidenav_content">
      <main>
        <div class="container-fluid px-4">
          <h2>{{ isEditMode ? 'Modifier une entreprise' : 'Ajouter une entreprise' }}</h2>

          <form [formGroup]="entrepriseForm" (ngSubmit)="onSubmit()">
            <label>Nom:</label>
            <input type="text" formControlName="nom">
            <div *ngIf="formControls['nom'].invalid && (formControls['nom'].dirty || formControls['nom'].touched)">
              <span *ngIf="formControls['nom'].errors?.['required']">Le nom est requis.</span>
            </div>

            <label>Adresse:</label>
            <input type="text" formControlName="adresse">
            <div *ngIf="formControls['adresse'].invalid && (formControls['adresse'].dirty || formControls['adresse'].touched)">
              <span *ngIf="formControls['adresse'].errors?.['required']">L'adresse est requise.</span>
            </div>

            <label>Téléphone:</label>
            <input type="text" formControlName="telephone">
            <div *ngIf="formControls['telephone'].invalid && (formControls['telephone'].dirty || formControls['telephone'].touched)">
              <span *ngIf="formControls['telephone'].errors?.['required']">Le téléphone est requis.</span>
              <span *ngIf="formControls['telephone'].errors?.['pattern']">Le téléphone doit être numérique.</span>
            </div>

            <label>Email:</label>
            <input type="email" formControlName="email">
            <div *ngIf="formControls['email'].invalid && (formControls['email'].dirty || formControls['email'].touched)">
              <span *ngIf="formControls['email'].errors?.['required']">L'email est requis.</span>
              <span *ngIf="formControls['email'].errors?.['email']">L'email doit être valide.</span>
            </div>

            <label>Secteur d'Activité:</label>
            <input type="text" formControlName="secteurActivite">
            <div *ngIf="formControls['secteurActivite'].invalid && (formControls['secteurActivite'].dirty || formControls['secteurActivite'].touched)">
              <span *ngIf="formControls['secteurActivite'].errors?.['required']">Le secteur d'activité est requis.</span>
            </div>

            <!-- ✅ Bouton dynamique (Ajouter ou Modifier) -->
            <button type="submit">{{ isEditMode ? 'Modifier' : 'Ajouter' }} l'entreprise</button>
          </form>
        </div>
      </main>
      <footer class="py-4 bg-light mt-auto">
        <div class="container-fluid px-4">
          <div class="d-flex align-items-center justify-content-between small">
            <div class="text-muted">Copyright &copy; Your Website 2023</div>
            <div>
              <a href="#">Privacy Policy</a>
              &middot;
              <a href="#">Terms &amp; Conditions</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>
</body>